<div *ngIf="isLoading">
  <h1>Loading blog posts...</h1>
</div>

<div *ngIf="!isLoading">
  <h1 class="text-center mt-4 mb-4">Blogs</h1>

  <div *ngIf="blogPosts?.length; else noPosts">
    <div *ngFor="let post of blogPosts" class="container mb-4">
      <div class="blog-card shadow-sm p-4 rounded bg-white">
        <!-- Title -->
        <h3 class="fw-bold mb-2">{{ post?.title }}</h3>

        <!-- Content -->
        <p class="text-dark">
          {{
            truncateContent(
              stripHtml(post?.content || post?.contentSnippet),
              50
            )
          }}
          <a
            *ngIf="
              (post?.content || post?.contentSnippet)?.split(' ').length > 50
            "
            [href]="post?.url"
            target="_blank"
            class="text-primary text-decoration-none fw-semibold"
          >
            See more
          </a>
        </p>

        <!-- Date & Tags -->
        <div class="d-flex justify-content-between align-items-center mt-3">
          <small class="text-muted">
            ðŸ“… Published on: {{ post?.published | date : "mediumDate" }}
          </small>

          <!-- Tags (Optional) -->
          <!--
      <div *ngIf="post?.labels?.length">
        <span
          *ngFor="let tag of extractTags(post?.labels)"
          class="badge bg-secondary me-1"
        >
          {{ tag }}
        </span>
      </div>
      -->
        </div>
      </div>
    </div>
  </div>

  <!-- Pagination Controls -->
  <div
    *ngIf="nextPageToken || currentPage > 1"
    class="d-flex justify-content-between"
  >
    <button
      class="btn btn-secondary"
      (click)="loadPreviousPage()"
      [disabled]="currentPage === 1"
    >
      Previous
    </button>
    <button
      class="btn btn-secondary"
      (click)="loadNextPage()"
      [disabled]="!nextPageToken"
    >
      Next
    </button>
  </div>

  <ng-template #noPosts>
    <p>No blog posts available.</p>
  </ng-template>
</div>
